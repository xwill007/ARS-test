<!DOCTYPE html>
<html>  <head>
    <meta charset="utf-8">
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <title>A-Frame VR Scene</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script type="module" src="index.js"></script>
    <style>
      .a-enter-vr-button { display: true; }
      .clickable { cursor: pointer; }
    </style>
  </head>
  <body>
    <a-scene>
      <!-- Cielo -->
      <a-sky color="black"></a-sky>

      <!-- Piso -->
      <a-entity
        vr-floor="width: 100; 
                  height: 100; 
                  textureRepeatX: 50; 
                  textureRepeatY: 50; 
                  roughness: 0.8; 
                  metalness: 0.2; 
                  src: /images/piso_ajedrez.jpg">
      </a-entity>      <!-- Usuario con raycaster para interacción -->
      <a-entity position="0 1.6 0">
        <a-camera id="user-camera" look-controls wasd-controls>
          <a-entity
            id="cursor"
            cursor="rayOrigin: mouse; fuse: false"
            raycaster="objects: .clickable; far: 30"
            position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"
            material="color: white; shader: flat"
            animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1">
          </a-entity>
        </a-camera>
      </a-entity>
      
      <!-- Video con componente personalizado -->
      <a-entity 
        id="video-container" 
        position="0 6 -5" 
        rotation="0 0 0"
        video-player="src: /videos/gangstas.mp4">
        <a-plane
          id="video-plane"
          width="16"
          height="9"
          material="shader: flat"
          class="clickable">
        </a-plane>
        
        <!-- Barra de progreso del video -->
        <a-entity id="progress-bar-container" position="0 -5.5 0.01">
          <!-- Fondo de la barra de progreso -->
          <a-plane
            id="progress-bar-background"
            width="16"
            height="0.5"
            material="color: #444444; shader: flat"
            class="clickable">
          </a-plane>
          
          <!-- Barra de progreso (se ajustará dinámicamente) -->
          <a-plane
            id="progress-bar"
            width="0"
            height="0.5"
            position="-8 0 0.01"
            material="color: #FF0000; shader: flat">
          </a-plane>
          
          <!-- Indicador de tiempo (texto) -->
          <a-text
            id="time-display"
            value="0:00 / 0:00"
            position="0 0.7 0"
            align="center"
            color="white"
            scale="1 1 1">
          </a-text>
        </a-entity>

      </a-entity> 

    </a-scene>

  </body>
</html>